version: 8

apps:
  # Single app handle $00, pointing to charmstream contract
  $00: n/${app_id}/${app_vk}

# ---- Private input (witness) for this app ----
private_inputs:
  $00: ${now}

# ---- Transaction inputs ----
ins:
  # Funding UTXO â€“ no stream charm yet
  - utxo_id: ${in_utxo_0}

# ---- Transaction outputs ----
outs:
  # Stream UTXO: carries the StreamState charm for our app
  - address: ${addr_0}
    amount: ${total_amount}
    charms:
      $00:
        total_amount: ${total_amount}
        claimed_amount: 0
        start_time: ${start_time}
        end_time: ${end_time}
        # beneficiary_dest is the raw scriptPubKey bytes; pass as base64 or envsubst'ed !!binary
        beneficiary_dest: !!binary ${beneficiary_dest}
